{"mappings":"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","names":["require_tilebelt","__commonJSMin","exports","module","d2r","r2d","tileToBBOX","tile","e","tile2lon","w","s","tile2lat","n","tileToGeoJSON","bbox","poly","x","z","y","pointToTile","lon","lat","pointToTileFraction","getChildren","getParent","getSiblings","hasSiblings","tiles","siblings","i","hasTile","tilesEqual","tile1","tile2","tileToQuadkey","index","b","mask","quadkeyToTile","quadkey","q","bboxToTile","bboxCoords","min","max","getBboxZoom","MAX_ZOOM","sin","z2","build_exports","__export","bboxToTile","build_default","getChildren","getParent","getSiblings","hasSiblings","hasTile","pointToTile","pointToTileFraction","quadkeyToTile","tileToBBOX","tileToGeoJSON","tileToQuadkey","tilesEqual","__module","__reExport","__default","__rest"],"sourceRoot":"/","sources":["../esmd/npm/@mapbox/tilebelt@1.0.2/node_modules/.pnpm/@mapbox+tilebelt@1.0.2/node_modules/@mapbox/tilebelt/index.js","../esmd/npm/@mapbox/tilebelt@1.0.2/build.js"],"sourcesContent":["'use strict';\n\nvar d2r = Math.PI / 180,\n    r2d = 180 / Math.PI;\n\n/**\n * Get the bbox of a tile\n *\n * @name tileToBBOX\n * @param {Array\u003cnumber\u003e} tile\n * @returns {Array\u003cnumber\u003e} bbox\n * @example\n * var bbox = tileToBBOX([5, 10, 10])\n * //=bbox\n */\nfunction tileToBBOX(tile) {\n    var e = tile2lon(tile[0] + 1, tile[2]);\n    var w = tile2lon(tile[0], tile[2]);\n    var s = tile2lat(tile[1] + 1, tile[2]);\n    var n = tile2lat(tile[1], tile[2]);\n    return [w, s, e, n];\n}\n\n/**\n * Get a geojson representation of a tile\n *\n * @name tileToGeoJSON\n * @param {Array\u003cnumber\u003e} tile\n * @returns {Feature\u003cPolygon\u003e}\n * @example\n * var poly = tileToGeoJSON([5, 10, 10])\n * //=poly\n */\nfunction tileToGeoJSON(tile) {\n    var bbox = tileToBBOX(tile);\n    var poly = {\n        type: 'Polygon',\n        coordinates: [[\n            [bbox[0], bbox[3]],\n            [bbox[0], bbox[1]],\n            [bbox[2], bbox[1]],\n            [bbox[2], bbox[3]],\n            [bbox[0], bbox[3]]\n        ]]\n    };\n    return poly;\n}\n\nfunction tile2lon(x, z) {\n    return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n    var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n    return r2d * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\n/**\n * Get the tile for a point at a specified zoom level\n *\n * @name pointToTile\n * @param {number} lon\n * @param {number} lat\n * @param {number} z\n * @returns {Array\u003cnumber\u003e} tile\n * @example\n * var tile = pointToTile(1, 1, 20)\n * //=tile\n */\nfunction pointToTile(lon, lat, z) {\n    var tile = pointToTileFraction(lon, lat, z);\n    tile[0] = Math.floor(tile[0]);\n    tile[1] = Math.floor(tile[1]);\n    return tile;\n}\n\n/**\n * Get the 4 tiles one zoom level higher\n *\n * @name getChildren\n * @param {Array\u003cnumber\u003e} tile\n * @returns {Array\u003cArray\u003cnumber\u003e\u003e} tiles\n * @example\n * var tiles = getChildren([5, 10, 10])\n * //=tiles\n */\nfunction getChildren(tile) {\n    return [\n        [tile[0] * 2, tile[1] * 2, tile[2] + 1],\n        [tile[0] * 2 + 1, tile[1] * 2, tile[2 ] + 1],\n        [tile[0] * 2 + 1, tile[1] * 2 + 1, tile[2] + 1],\n        [tile[0] * 2, tile[1] * 2 + 1, tile[2] + 1]\n    ];\n}\n\n/**\n * Get the tile one zoom level lower\n *\n * @name getParent\n * @param {Array\u003cnumber\u003e} tile\n * @returns {Array\u003cnumber\u003e} tile\n * @example\n * var tile = getParent([5, 10, 10])\n * //=tile\n */\nfunction getParent(tile) {\n    return [tile[0] \u003e\u003e 1, tile[1] \u003e\u003e 1, tile[2] - 1];\n}\n\nfunction getSiblings(tile) {\n    return getChildren(getParent(tile));\n}\n\n/**\n * Get the 3 sibling tiles for a tile\n *\n * @name getSiblings\n * @param {Array\u003cnumber\u003e} tile\n * @returns {Array\u003cArray\u003cnumber\u003e\u003e} tiles\n * @example\n * var tiles = getSiblings([5, 10, 10])\n * //=tiles\n */\nfunction hasSiblings(tile, tiles) {\n    var siblings = getSiblings(tile);\n    for (var i = 0; i \u003c siblings.length; i++) {\n        if (!hasTile(tiles, siblings[i])) return false;\n    }\n    return true;\n}\n\n/**\n * Check to see if an array of tiles contains a particular tile\n *\n * @name hasTile\n * @param {Array\u003cArray\u003cnumber\u003e\u003e} tiles\n * @param {Array\u003cnumber\u003e} tile\n * @returns {boolean}\n * @example\n * var tiles = [\n *     [0, 0, 5],\n *     [0, 1, 5],\n *     [1, 1, 5],\n *     [1, 0, 5]\n * ]\n * hasTile(tiles, [0, 0, 5])\n * //=boolean\n */\nfunction hasTile(tiles, tile) {\n    for (var i = 0; i \u003c tiles.length; i++) {\n        if (tilesEqual(tiles[i], tile)) return true;\n    }\n    return false;\n}\n\n/**\n * Check to see if two tiles are the same\n *\n * @name tilesEqual\n * @param {Array\u003cnumber\u003e} tile1\n * @param {Array\u003cnumber\u003e} tile2\n * @returns {boolean}\n * @example\n * tilesEqual([0, 1, 5], [0, 0, 5])\n * //=boolean\n */\nfunction tilesEqual(tile1, tile2) {\n    return (\n        tile1[0] === tile2[0] \u0026\u0026\n        tile1[1] === tile2[1] \u0026\u0026\n        tile1[2] === tile2[2]\n    );\n}\n\n/**\n * Get the quadkey for a tile\n *\n * @name tileToQuadkey\n * @param {Array\u003cnumber\u003e} tile\n * @returns {string} quadkey\n * @example\n * var quadkey = tileToQuadkey([0, 1, 5])\n * //=quadkey\n */\nfunction tileToQuadkey(tile) {\n    var index = '';\n    for (var z = tile[2]; z \u003e 0; z--) {\n        var b = 0;\n        var mask = 1 \u003c\u003c (z - 1);\n        if ((tile[0] \u0026 mask) !== 0) b++;\n        if ((tile[1] \u0026 mask) !== 0) b += 2;\n        index += b.toString();\n    }\n    return index;\n}\n\n/**\n * Get the tile for a quadkey\n *\n * @name quadkeyToTile\n * @param {string} quadkey\n * @returns {Array\u003cnumber\u003e} tile\n * @example\n * var tile = quadkeyToTile('00001033')\n * //=tile\n */\nfunction quadkeyToTile(quadkey) {\n    var x = 0;\n    var y = 0;\n    var z = quadkey.length;\n\n    for (var i = z; i \u003e 0; i--) {\n        var mask = 1 \u003c\u003c (i - 1);\n        var q = +quadkey[z - i];\n        if (q === 1) x |= mask;\n        if (q === 2) y |= mask;\n        if (q === 3) {\n            x |= mask;\n            y |= mask;\n        }\n    }\n    return [x, y, z];\n}\n\n/**\n * Get the smallest tile to cover a bbox\n *\n * @name bboxToTile\n * @param {Array\u003cnumber\u003e} bbox\n * @returns {Array\u003cnumber\u003e} tile\n * @example\n * var tile = bboxToTile([ -178, 84, -177, 85 ])\n * //=tile\n */\nfunction bboxToTile(bboxCoords) {\n    var min = pointToTile(bboxCoords[0], bboxCoords[1], 32);\n    var max = pointToTile(bboxCoords[2], bboxCoords[3], 32);\n    var bbox = [min[0], min[1], max[0], max[1]];\n\n    var z = getBboxZoom(bbox);\n    if (z === 0) return [0, 0, 0];\n    var x = bbox[0] \u003e\u003e\u003e (32 - z);\n    var y = bbox[1] \u003e\u003e\u003e (32 - z);\n    return [x, y, z];\n}\n\nfunction getBboxZoom(bbox) {\n    var MAX_ZOOM = 28;\n    for (var z = 0; z \u003c MAX_ZOOM; z++) {\n        var mask = 1 \u003c\u003c (32 - (z + 1));\n        if (((bbox[0] \u0026 mask) !== (bbox[2] \u0026 mask)) ||\n            ((bbox[1] \u0026 mask) !== (bbox[3] \u0026 mask))) {\n            return z;\n        }\n    }\n\n    return MAX_ZOOM;\n}\n\n/**\n * Get the precise fractional tile location for a point at a zoom level\n *\n * @name pointToTileFraction\n * @param {number} lon\n * @param {number} lat\n * @param {number} z\n * @returns {Array\u003cnumber\u003e} tile fraction\n * var tile = pointToTileFraction(30.5, 50.5, 15)\n * //=tile\n */\nfunction pointToTileFraction(lon, lat, z) {\n    var sin = Math.sin(lat * d2r),\n        z2 = Math.pow(2, z),\n        x = z2 * (lon / 360 + 0.5),\n        y = z2 * (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n\n    // Wrap Tile X\n    x = x % z2;\n    if (x \u003c 0) x = x + z2;\n    return [x, y, z];\n}\n\nmodule.exports = {\n    tileToGeoJSON: tileToGeoJSON,\n    tileToBBOX: tileToBBOX,\n    getChildren: getChildren,\n    getParent: getParent,\n    getSiblings: getSiblings,\n    hasTile: hasTile,\n    hasSiblings: hasSiblings,\n    tilesEqual: tilesEqual,\n    tileToQuadkey: tileToQuadkey,\n    quadkeyToTile: quadkeyToTile,\n    pointToTile: pointToTile,\n    bboxToTile: bboxToTile,\n    pointToTileFraction: pointToTileFraction\n};\n","import * as __module from \"@mapbox/tilebelt\";export const { tileToGeoJSON,tileToBBOX,getChildren,getParent,getSiblings,hasTile,hasSiblings,tilesEqual,tileToQuadkey,quadkeyToTile,pointToTile,bboxToTile,pointToTileFraction } = __module;const { default: __default, ...__rest } = __module;export default (__default !== undefined ? __default : __rest);export * from \"@mapbox/tilebelt\";"],"version":3}
